<!DOCTYPE html>
<html>
<head>
    <meta charset="gbk"/>
    <title>跨浏览器的事件处理程序</title>
    <style type="text/css">
        #J_btn{
            width:80px;
            height: 25px;
            overflow: hidden;
            background: #0381c2;
            color:#fff;
            text-align: center;
            line-height: 25px;
            border-radius:3px;
            cursor: pointer;
        }
    </style>
</head>
<body>
<div id="J_btn">测试</div>
<script type="text/javascript">

    var EventUtil = {
      addHandler:function(element,type,handler){
          if(element.addEventListener){
              element.addEventListener(type,handler,false);
          }else if(element.attachEvent){
              element.attachEvent("on" + type,handler);
          }else{
              element["on"+type]= handler;
          }
      },
      removeHandler:function(element,type,handler){
          if(element.removeEventListener){
              element.removeEventListener(type,handler,false);
          }else if(element.detachEvent){
              element.detachEvent("on" + type,handler);
          }else{
              element["on" + type] = null;
          }
      }
    };

    var Jbtn = document.getElementById("J_btn");
//    Jbtn.onclick = function(){
//        alert(this.id);
//        Jbtn.onclick = null;
//    }

    var handler = function(){
        alert(this.id);
    };
    EventUtil.addHandler(Jbtn,'click',handler);
  //  EventUtil.removeHandler(Jbtn,'click',handler);
</script>
</body>
</html>