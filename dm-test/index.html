<!DOCTYPE html>
<html>
<head>
    <meta charset="gbk"/>
    <title></title>
    <link rel="stylesheet" type="text/css" href="src/index.css"/>
    <script src="https://s.tbcdn.cn/s/kissy/1.2.0/kissy-min.js"></script>
</head>
<body>
<div class="switchBox">
    <div id="background-image" class="show-1">
        <div class="bannerHover" style="background:#568fd6;display:blcok;"><img src="http://im-img.qq.com/qq/2013/img/bg-1-1.jpg?t=20130801" class="banner" width="1582" height="1110"  id="b1" rel="1"/></div>
        <div class="bannerHover" style="background:#7777bf;display:none;"><img src="http://im-img.qq.com/qq/2013/img/bg-2.jpg" class="banner" width="1582" height="1110" id="b2" rel="2"/></div>
        <div class="bannerHover" style="background:#fff2d5;display:none;"><img src="http://im-img.qq.com/qq/2013/img/bg-3.jpg" class="banner" width="1582" height="1110" id="b3" rel="3"/></div>
        <div class="bannerHover" style="background:#f9faf5;display:none;"><img src="http://im-img.qq.com/qq/2013/img/bg-4.jpg" class="banner" width="1582" height="1110" id="b4" rel="4"/></div>
        <div class="bannerHover" style="background:#150f3b;display:none;"><img src="http://im-img.qq.com/qq/2013/img/bg-5.jpg" class="banner" width="1582" height="1110" id="b5" rel="5"/></div>
        <!--<div class="header">
            <a href="#" class="logo pngFix" target="_blank" title="QQ2013"></a>
            <div class="topNav">
                <a href="http://im.qq.com/" target="_blank" title="IM官网首页">IM官网首页</a>
                |
                <a href="http://impd.tencent.com/" target="_blank" title="走近QQ客户端团队">走近QQ客户端团队</a>
                |
                <a href="http://user.qzone.qq.com/19990210/main" target="_blank" title="QQ官方博客">QQ官方博客</a>
                |
                <a href="http://e.t.qq.com/QQ" target="_blank" title="QQ官方微博">QQ官方微博</a>
                |
                <a href="http://zc.qq.com/chs/index.html" target="_blank" title="申请QQ帐号">申请QQ帐号</a>
            </div>
        </div>-->
        <div class="bannerMid">
            <div class="bannerTool">
                <div class="textBanner pngFix"></div>
                <div class="toolBottom">
                    <div class="txtLogo"></div>
                    <p class="toolInfo">56.2M | 更新日期 2013/07/26</p>
                    <p class="roundIcon"><a href="intro.shtml" target="_blank" class="link" title="功能动画展示">功能动画展示</a></p>
                    <a href="http://dldir1.qq.com/qqfile/qq/QQ2013/QQ2013/7690/QQ2013.exe" class="downBtn" target="_blank" title="立即下载" onclick="tcssClick && tcssClick('downQQ')">立即下载</a>
                </div>
            </div>
        </div>
        <div class="navList">
            <div class="nav clearfix">
                <a href="javascript:void(0)" class="n1 js_bannerHover cur" title="数据线" >数据线<span></span></a>
                <a href="javascript:void(0)" class="n2 js_bannerHover" title="传文件" >传文件<span></span></a>
                <a href="javascript:void(0)" class="n3 js_bannerHover" title="讨论组" >讨论组<span></span></a>
                <a href="javascript:void(0)" class="n4 js_bannerHover" title="性能" >性能<span></span></a>
                <a href="javascript:void(0)" class="n5 js_bannerHover" title="群视频" >群视频<span></span></a>
            </div>
        </div>
    </div>


</div>



<div class="layout mod-trait-1 ">
    <div class="trait-tit-1"><strong>更多，更好的音乐</strong> 一个搜索框，400万首音乐随你搜听 音乐精选集，由专辑编辑精心挑选 各大排行榜，一键收听，不再错过流行</div>
    <div class="ele"></div>
    <div class="launch-frames">
        <div class="adorn2"></div>
        <div class="adorn1"></div>
        <div class="start-cover"><img src="http://img.xiami.com/static/img/software/spark/start.jpg" alt=""></div>
    </div>
</div>
<div class="layout mod-trait-2 ">
    <div class="trait-tit-2"><strong>满足听音乐的高要求</strong> 可与实体专辑相媲美的高品质试听 离线音乐到手机，不用下载，随时听音乐 专辑封面/歌手照片间随意切换，友善的操作界面</div>
    <div class="trait-player"><img src="http://img.xiami.com/static/img/software/spark/player_v.jpg" style="border-radius: 5px;" alt=""></div>
    <div class="pc-line"></div>
    <div class="headset"></div>
    <div class="guide-arrow"></div>
</div>
<div class="layout mod-trait-3">
    <div class="trait-tit-3"><strong>不再担心“听什么？”</strong>想不好听什么，只要摇一摇手机，猜你喜欢。每天推荐一份量身定制的私人歌单，每天有惊喜 听虾米猜电台，来自音乐的惊喜</div>
    <div class="adorn-left"></div>
    <div class="adorn-right"></div>
    <div class="music-online"><img src="http://img.xiami.com/static/img/software/spark/music_online_av.png" alt=""></div>
</div>
<div class="layout mod-trait-4">
    <div class="app_show">
        <img src="http://img.xiami.com/static/img/software/spark/app_v21.png" class="img1" alt="">
        <img src="http://img.xiami.com/static/img/software/spark/app_v23v.png" class="img2" alt="">
    </div>
    <div class="trait4_con">
        <div class="trait4_tit"><strong>属于自己的音乐库</strong>支持多种格式的本地音乐播放，更好管理本地音乐 功能强大的个人音乐库，与网站同步，自由更换封面 支持微博、淘宝、QQ多种第三方帐号登录</div>
    </div>
    <div class="vline"></div>
</div>


<script>

    (function(S){
        var $ = S.all, D = S.DOM, E = S.Event, doc = document, win = window;

        var showImg={
            init:function(){
                var self = this;
                self.banner = $(".bannerHover");
                self.bannerHover = $(".js_bannerHover");
                self.box = $(".show-1");
                self.banImg = $(".banner");

                self.eventBinding();
                self.showHeight();
                self.picWidthHeight();

            },
            eventBinding:function(){
                var self = this;
                var length = self.banner.length;
                var sw = 0;

                var myTime = setInterval(function(){
                    self.myShow(sw);
                    sw++;
                    if(sw==length){
                        sw = 0;
                    }
                },4000);

                self.bannerHover.on('mouseover',function(){
                    clearInterval(myTime);
                    sw = S.indexOf(this,self.bannerHover);
                    self.myShow(sw);

                });
                self.bannerHover.on('mouseout',function(){
                    myTime = setInterval(function(){
                        self.myShow(sw);
                        sw++;
                        if(sw==length){
                            sw = 0;
                        }
                    },4000);
                });

                $(win).on('resize',function(){
                    self.showHeight();
                    self.picWidthHeight();
                })

            },
            showHeight:function(){
                var self = this;

                //$(".switchBox").css("width",D.viewportWidth(win) <= 990 ? "990px":"100%");
                self.box.css("height", D.viewportHeight(win) + "px");

            },
            myShow:function(i){
                var self = this;
                self.bannerHover.item(i).addClass('cur').siblings(".js_bannerHover").removeClass('cur');
                self.banner.item(i).stop(true).fadeIn().siblings(".bannerHover").fadeOut();

            },
            picWidthHeight:function(){
                var self = this;
                var winWidth = D.viewportWidth(win),
                    winHeight = D.viewportHeight(win),
                    imgWidth = self.banImg.attr('width'),
                    imgHeight = self.banImg.attr('height'),
                    newWidth = winWidth,
                    newHeight = (winWidth / imgWidth) * imgHeight,
                    topMargin = ((newHeight - winHeight)/2)*-1,
                    leftMargin = 0;

                if(newHeight < winHeight){
                    newWidth = (winHeight /imgHeight) * imgWidth;
                    newHeight = winHeight;
                    topMargin=0;
                    leftMargin = ((newWidth - winWidth)/2)*-1;
                }else if(winWidth > imgWidth){
                    newWidth = imgWidth;
                    newHeight = imgHeight;
                    topMargin = (winHeight - imgHeight)/2;
                    leftMargin = (winWidth - imgWidth) /2;
                }

                self.banImg.css({width:newWidth,height:newHeight,marginLeft:leftMargin,marginTop:topMargin});


            }
        };


        var Utility = {
            init:function(){
                var self = this;
                self.eleObj = $(".mod-trait-1, .mod-trait-2, .mod-trait-3, .mod-trait-4");

                self.checkEle(self.eleObj);

                $(doc).on("scroll",function(){
                    self.checkEle(self.eleObj);
                });


            },
            checkEle:function(ele){
                var self = this;
                S.each(ele,function(i){
                    var selfEle = $(i);
                    if(self.getEleVisual(selfEle) > 0){
                        !selfEle.hasClass('tra') && selfEle.addClass('tra');
                    }

                })
            },
            getEleVisual:function(ele){
                var self = this;
                var ele =$(ele),
                    tt = D.height(win) + D.scrollTop(win),
                    h = ele.height(),
                    s = D.scrollTop(win) - h,
                    t = ele.offset().top,
                    c1 = t - s,
                    c2 = tt - t;
                if(c1>0 && c2 >0){
                    if(c1/h > 0.8 && c2/h > 0.8){
                        return 2;
                    }
                    return 1;
                }
                return 0;
            }
        };
        S.ready(function(){
            showImg.init();
            Utility.init();

        })
    })(KISSY);



</script>

<!--[if lt IE 9]>
<script>

(function(S){
    var $ = S.all;
    $('.music-online').attr('style','bottom: 0;opacity: 1;');
    $('.layout').addClass('tra');
})(KISSY)

</script>
<![endif]-->
<!--[if IE 6]>
<script src="http://st.xiami.com/res/v3/js/DD_belatedPNG.js"></script>
<script>DD_belatedPNG.fix('.tit,.device,.tit,.download,.launch-frames,.hand,.trait-tit-2,.app_show img,.trait4_tit,.pc-line,.headset,.guide-arrow,.app_show img,.music-online img,.l-logo,.device img,.btn-more,.receive-vip,.adorn1,.adorn2,.caret');</script>
<![endif]-->
</body>
</html>